# 準備オブジェクトについて

`準備オブジェクト` とは、後で使用するデータを事前に準備するために使われるオブジェクトです。

これ単体で画面に何かを描画したりすることはできません。

すべての準備オブジェクトは拡張編集の右クリックメニューから `メディアオブジェクトの追加`→`PSDToolKit`→`？？？` と辿るとタイムラインに挿入することができますが、大抵のオブジェクトではより効率的な配置方法が用意されています。

# 口パク準備@PSDToolKit

`口パク準備` は [`口パク 開閉のみ@PSD`](psd.md#口パク_開閉のみ@PSD) や [`口パク あいうえお@PSD`](psd.md#口パク_あいうえお@PSD) を使う際に必要になる、音量などの解析データを作成するための `カスタムオブジェクト` です。

プロパティ名|説明
---|---
`ローカット`|音声の音量を取得する際に指定した周波数以下をカットしたあとの値を取得します。<br>`0` の場合は `PSD ファイルオブジェクト` 側で指定した値が使用されます。
`ハイカット`|音声の音量を取得する際に指定した周波数以上をカットしたあとの値を取得します。<br>`0` の場合は `PSD ファイルオブジェクト` 側で指定した値が使用されます。
`しきい値`|どのくらいの音量以上なら発言中として扱うかを指定します。<br>オーディオに声以外のノイズが含まれている場合はある程度大きな値に設定しないと誤認識することがあります。<br>`0` の場合は `PSD ファイルオブジェクト` 側で指定した値が使用されます。
`感度`|音量を過去何フレームからの平均で求めるかを指定します。<br>値を大きくすると細かい音量変化に対して鈍くなります。
`参照`|処理を行う対象の `*.wav` ファイルを指定します。<br>同じフォルダに同じ名前の `*.lab` ファイルがある場合は自動的に音素データも読み込まれます。

## `*.lab` ファイルとは

```
0 1150000 k
1150000 2400000 o
2400000 2900000 N
2900000 3450000 n
3450000 4350000 i
4350000 5250000 ch
5250000 5850000 i
5850000 6450000 w
6450000 7950000 a
```

上記のように音素のタイミング情報が 1/10,000,000 秒単位で書かれたシンプルなテキストベースのファイルです。  
音声合成ソフトによっては生成するためのオプションがある場合があります。

# 口パク準備（音素のみ）

`口パク準備（音素のみ）` は音量情報なしで発音中の音素のみを設定する、口パク準備の特殊形です。  
これは主に[タイムラインに `*.lab` ファイルをドラッグ＆ドロップしたとき](plugins.md#*.lab_ファイル)に作成されます。

テキスト入力欄に予め入力されている中の `l="a"` の部分で発音中の音素を指定します。

これで作成されたデータは `口パク あいうえお@PSD` で利用可能ですが、以下のような細かな違いもあります。

- **現在地点の前後の音素情報が参照できない**  
`口パク準備` で `*.lab` ファイルを読んでいる時は参照可能な前後の音素が参照できません。
- **`*.wav` ファイルの音量が取得できない**  
この方法では `*.wav` ファイルを参照していないため、音量データが存在しません。

# 多目的スライダー@PSDToolKit

`多目的スライダー` は「パーツ切り替え用スライダー」を操作するための、もうひとつのスライダーです。

詳しい使い方は[チュートリアルを参照](tutorial.md#多目的スライダー)してください。

## 制限事項

`多目的スライダー` には個々の項目名は表示されません。  
また、選択可能な項目数は予め 0-100 で固定になっていますが、これらはバグではなく仕様です。

これは拡張編集側の仕様によりスライダーの名前や項目数を柔軟に変更するような仕組みが存在しないことに起因する制限事項であり、根本的な解決が行われない限りこの制限が撤廃されることはありません。

# 字幕準備

`字幕準備` は字幕を表示する際に必要になるテキスト情報を用意するためのオブジェクトです。

`セリフ` と予め入力された部分を書き換えることで、字幕用のテキストデータが準備されます。

改行なども使えますが、`]==]` というテキストだけは使えません。  
その場合は代わりに `]==].."]==]"..[==[` と入れると使えます。

# 統合準備オブジェクト

`統合準備オブジェクト` は `口パク準備`、`字幕準備`、`多目的スライダー` の機能を併せ持つ特殊な準備オブジェクトで、このオブジェクトひとつで `口パク準備`、`字幕準備`、`多目的スライダー` の機能を使うことができます。

これは実際には `字幕準備` 相当の `テキスト` オブジェクトと、`口パク準備` 用の `アニメーション効果`、`多目的スライダー` 用の `アニメーション効果` によって実現されています。

それぞれに追加されている機能などはなく、統合されていないときに行えた一部の操作は行なえませんが、そのトレードオフを許容した上でレイヤー数を節約したい場合に使えるオブジェクトです。

詳しい使い方は[チュートリアルを参照](tutorial.md#準備オブジェクトの集約)してください。
